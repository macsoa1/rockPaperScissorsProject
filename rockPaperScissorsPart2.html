<!DOCTYPE html>
<html>
  <head>
    <title>Page Title</title>
  </head>
  <body>

    <button id='playGame'>Play Game</button>

    <div class="scoreboard">
      <h1 id='playerScore'></h1>
      <h1 id='cpuScore'></h1>
    </div>

    <div id='choices'>
      <button id='rbtn'>ROCK</button>
      <button id='pbtn'>PAPER</button>
      <button id='sbtn'>SCISSORS</button>
    </div>

    <div id='playByPlay'>
    </div>

    <script>
      const playerChoices = document.getElementById('choices');
      const playerScoreBoard = document.getElementById('playerScore');
      const cpuScore = document.getElementById('cpuScore');
      const playByPlay = document.getElementById('playByPlay');
      const playGame = document.getElementById('playGame');
      const rbtn = document.getElementById('rbtn');
      const pbtn = document.getElementById('pbtn');
      const sbtn = document.getElementById('sbtn');

      var playerScore;
      var computerScore;

      function computerPlay(){
        let choices = ['rock', 'paper', 'scissors'];
        return choice = choices[Math.floor(Math.random() * choices.length)];
      }

      function playRound(playerSelection, computerSelection) {
        var playerChoice = playerSelection.toLowerCase();

        if(playerChoice === 'rock'){
          if(computerSelection === 'rock') {
            playerScoreBoard.textContent = 'YOU ' + playerScore;
            cpuScore.textContent = 'CPU ' + computerScore;
            var play = document.createElement('p');
            play.textContent = 'Rock and Rock Tie! Try Again!';
            playByPlay.appendChild(play);

          }
          else if (computerSelection === 'paper') {
            computerScore++;
            playerScoreBoard.textContent = 'YOU ' + playerScore;
            cpuScore.textContent = 'CPU ' + computerScore;
            var play = document.createElement('p');
            play.textContent = 'You Lose! Paper beats Rock!';
            playByPlay.appendChild(play);
          }
          else {
            playerScore++;
            playerScoreBoard.textContent = 'YOU ' + playerScore;
            cpuScore.textContent = 'CPU ' + computerScore;
            var play = document.createElement('p');
            play.textContent = 'You Win! Rock beats Scissors';
            playByPlay.appendChild(play);
          }
        }

        else if(playerChoice === 'paper'){
          if(computerSelection === 'rock') {
            playerScore++;
            playerScoreBoard.textContent = 'YOU ' + playerScore;
            cpuScore.textContent = 'CPU ' + computerScore;
            var play = document.createElement('p');
            play.textContent = 'You Win! Paper beats Rock';
            playByPlay.appendChild(play);

          }
          else if (computerSelection === 'paper') {
            playerScoreBoard.textContent = 'YOU ' + playerScore;
            cpuScore.textContent = 'CPU ' + computerScore;
            var play = document.createElement('p');
            play.textContent = 'Paper and Paper Tie! Try Again!';
            playByPlay.appendChild(play);
          }
          else {
            computerScore++;
            playerScoreBoard.textContent = 'YOU ' + playerScore;
            cpuScore.textContent = 'CPU ' + computerScore;
            var play = document.createElement('p');
            play.textContent = 'You Lose! Scissors beats Paper!';
            playByPlay.appendChild(play);
          }
        }

        else if(playerChoice === 'scissors'){
          if(computerSelection === 'rock') {
            computerScore++;
            playerScoreBoard.textContent = 'YOU ' + playerScore;
            cpuScore.textContent = 'CPU ' + computerScore;
            var play = document.createElement('p');
            play.textContent = 'You Lose! Rock beats Scissors!';
            playByPlay.appendChild(play);
          }
          else if (computerSelection === 'paper') {
            playerScore++;
            playerScoreBoard.textContent = 'YOU ' + playerScore;
            cpuScore.textContent = 'CPU ' + computerScore;
            var play = document.createElement('p');
            play.textContent = 'You Win! Scissors beats Paper!';
            playByPlay.appendChild(play);
          }
          else {
            playerScoreBoard.textContent = 'YOU ' + playerScore;
            cpuScore.textContent = 'CPU ' + computerScore;
            var play = document.createElement('p');
            play.textContent = 'Scissors and Scissors Tie! Try Again!';
            playByPlay.appendChild(play);
          }
        }
        checkScore();
      }

      playGame.addEventListener('click', function() {
        playerScore = 0;
        computerScore = 0;
        playByPlay.innerHTML = '';
        rbtn.disabled = false;
        pbtn.disabled = false;
        sbtn.disabled = false;

        playerScoreBoard.textContent = 'YOU ' + playerScore;
        cpuScore.textContent = 'CPU ' + computerScore;

      })

      playerChoices.addEventListener('click', function setUp(e) {
        var playerSelection = (e.target.textContent.toLowerCase());
        var computerSelection = computerPlay();
        playRound(playerSelection, computerSelection);
      })

      function checkScore() {
        if(playerScore == 5){
          var winStatement = document.createElement('h3');
          winStatement.textContent = 'YOU WIN!';
          playByPlay.appendChild(winStatement);
          rbtn.disabled = 'disabled';
          pbtn.disabled = 'disabled';
          sbtn.disabled = 'disabled';
        }
        else if (computerScore == 5) {
          var lossStatement = document.createElement('h3');
          lossStatement.textContent = 'YOU LOSE!';
          playByPlay.appendChild(lossStatement);
          rbtn.disabled = 'disabled';
          pbtn.disabled = 'disabled';
          sbtn.disabled = 'disabled';
        }
      }






    </script>
  </body>
</html>
